angular.module("app",["ngResource","ngMessages","ngAnimate","ui.router","satellizer","toastr"]).config(["$authProvider","$stateProvider","$urlRouterProvider","$locationProvider",function(e,t,l,r){function o(e,t){var l=e.defer();return t.isAuthenticated()?l.reject():l.resolve(),l.promise}function i(e,t,l){var r=e.defer();return l.isAuthenticated()?r.resolve():t.path("/login"),r.promise}o.$inject=["$q","$auth"],i.$inject=["$q","$location","$auth"],r.html5Mode(!0),e.facebook({clientId:"1670205403245071"}),e.google({clientId:"696255640250-ha91c7enlsravhptab5c63punfunlh8u.apps.googleusercontent.com"}),l.otherwise("/"),t.state("home",{url:"/",controller:"homeCtrl",templateUrl:"partials/home.html"}).state("login",{url:"/login",templateUrl:"partials/login.html",controller:"loginCtrl",resolve:{skipIfLoggedIn:o}}).state("signup",{url:"/signup",templateUrl:"partials/signup.html",controller:"signupCtrl",resolve:{skipIfLoggedIn:o}}).state("logout",{url:"/logout",template:null,controller:"logoutCtrl"}).state("profile",{url:"/profile",templateUrl:"partials/profile.html",controller:"profileCtrl",resolve:{loginRequired:i}})}]);
angular.module("app").factory("Account",["$http",function(t){return{getProfile:function(){return t.get("http://localhost:3001/api/me")},updateProfile:function(o){return t.put("http://localhost:3001/api/me",o)}}}]);
angular.module("app").controller("homeCtrl",["$scope",function(t){t.test="test"}]);
angular.module("app").controller("loginCtrl",["$scope","$location","$auth","toastr",function(t,e,n,a){t.login=function(){n.login(t.user).then(function(){a.success("You have successfully signed in!"),e.path("/")})["catch"](function(t){a.error(t.data.message,t.status)})},t.authenticate=function(t){n.authenticate(t).then(function(){a.success("You have successfully signed in with "+t+"!"),e.path("/")})["catch"](function(t){t.error?a.error(t.error):t.data?a.error(t.data.message,t.status):a.error(t)})}}]);
angular.module("app").controller("logoutCtrl",["$location","$auth","toastr",function(o,t,n){t.isAuthenticated()&&t.logout().then(function(){n.info("You have been logged out"),o.path("/")})}]);
angular.module("app").controller("NavbarCtrl",["$scope","$auth",function(t,n){t.isAuthenticated=function(){return n.isAuthenticated()}}]);
angular.module("app").directive("passwordMatch",function(){return{require:"ngModel",scope:{otherModelValue:"=passwordMatch"},link:function(e,o,a,r){r.$validators.compareTo=function(o){return o===e.otherModelValue},e.$watch("otherModelValue",function(){r.$validate()})}}});
angular.module("app").directive("passwordStrength",function(){return{restrict:"A",require:"ngModel",link:function(e,i,s,t){var o=i.children(),n=Array.prototype.slice.call(o.children()),a=n.slice(-1)[0],r=n.slice(-2),p=n.slice(-3),l=n.slice(-4);i.after(o),i.bind("keyup",function(){var e,i={positive:{},negative:{}},s={positive:{},negative:{}},o=0;angular.forEach(n,function(e){e.style.backgroundColor="#ebeef1"}),t.$viewValue&&(i.positive.lower=t.$viewValue.match(/[a-z]/g),i.positive.upper=t.$viewValue.match(/[A-Z]/g),i.positive.numbers=t.$viewValue.match(/\d/g),i.positive.symbols=t.$viewValue.match(/[$-\/:-?{-~!^_`\[\]]/g),i.positive.middleNumber=t.$viewValue.slice(1,-1).match(/\d/g),i.positive.middleSymbol=t.$viewValue.slice(1,-1).match(/[$-\/:-?{-~!^_`\[\]]/g),s.positive.lower=i.positive.lower?i.positive.lower.length:0,s.positive.upper=i.positive.upper?i.positive.upper.length:0,s.positive.numbers=i.positive.numbers?i.positive.numbers.length:0,s.positive.symbols=i.positive.symbols?i.positive.symbols.length:0,s.positive.numChars=t.$viewValue.length,e+=s.positive.numChars>=8?1:0,s.positive.requirements=e>=3?e:0,s.positive.middleNumber=i.positive.middleNumber?i.positive.middleNumber.length:0,s.positive.middleSymbol=i.positive.middleSymbol?i.positive.middleSymbol.length:0,i.negative.consecLower=t.$viewValue.match(/(?=([a-z]{2}))/g),i.negative.consecUpper=t.$viewValue.match(/(?=([A-Z]{2}))/g),i.negative.consecNumbers=t.$viewValue.match(/(?=(\d{2}))/g),i.negative.onlyNumbers=t.$viewValue.match(/^[0-9]*$/g),i.negative.onlyLetters=t.$viewValue.match(/^([a-z]|[A-Z])*$/g),s.negative.consecLower=i.negative.consecLower?i.negative.consecLower.length:0,s.negative.consecUpper=i.negative.consecUpper?i.negative.consecUpper.length:0,s.negative.consecNumbers=i.negative.consecNumbers?i.negative.consecNumbers.length:0,o+=4*s.positive.numChars,s.positive.upper&&(o+=2*(s.positive.numChars-s.positive.upper)),s.positive.lower&&(o+=2*(s.positive.numChars-s.positive.lower)),(s.positive.upper||s.positive.lower)&&(o+=4*s.positive.numbers),o+=6*s.positive.symbols,o+=2*(s.positive.middleSymbol+s.positive.middleNumber),o+=2*s.positive.requirements,o-=2*s.negative.consecLower,o-=2*s.negative.consecUpper,o-=2*s.negative.consecNumbers,i.negative.onlyNumbers&&(o-=s.positive.numChars),i.negative.onlyLetters&&(o-=s.positive.numChars),o=Math.max(0,Math.min(100,Math.round(o))),o>85?angular.forEach(l,function(e){e.style.backgroundColor="#008cdd"}):o>65?angular.forEach(p,function(e){e.style.backgroundColor="#6ead09"}):o>30?angular.forEach(r,function(e){e.style.backgroundColor="#e09115"}):a.style.backgroundColor="#e01414")})},template:'<span class="password-strength-indicator"><span></span><span></span><span></span><span></span></span>'}});
angular.module("app").controller("profileCtrl",["$scope","$auth","toastr","Account",function(t,n,e,a){t.getProfile=function(){a.getProfile().then(function(n){t.user=n.data})["catch"](function(t){e.error(t.data.message,t.status)})},t.updateProfile=function(){a.updateProfile(t.user).then(function(){e.success("Profile has been updated")})["catch"](function(t){e.error(t.data.message,t.status)})},t.link=function(a){n.link(a).then(function(){e.success("You have successfully linked a "+a+" account"),t.getProfile()})["catch"](function(t){e.error(t.data.message,t.status)})},t.unlink=function(a){n.unlink(a).then(function(){e.info("You have unlinked a "+a+" account"),t.getProfile()})["catch"](function(t){e.error(t.data?t.data.message:"Could not unlink "+a+" account",t.status)})},t.getProfile()}]);
angular.module("app").controller("signupCtrl",["$scope","$location","$auth","toastr",function(n,e,a,t){n.signup=function(){a.signup(n.user).then(function(n){a.setToken(n),e.path("/"),t.info("You have successfully created a new account and have been signed-in")})["catch"](function(n){t.error(n.data.message)})}}]);
//# sourceMappingURL=maps/js.min.js.map
